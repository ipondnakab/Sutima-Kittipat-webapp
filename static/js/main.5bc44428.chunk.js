(this["webpackJsonpsutima-kittipat-project"]=this["webpackJsonpsutima-kittipat-project"]||[]).push([[0],{57:function(e,t,a){},74:function(e,t,a){},79:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(3),l=a.n(n),r=a(45),i=a.n(r),o=(a(57),a(9)),s=a(18),c=a(7),m=a(31),u=a(32),p=a(34),f=a(33),d=a(17),h=a.n(d);a(74);var g=function(e){var t=e.menu;return t=void 0===t||t,l.a.createElement("nav",{className:"nav-bar"},l.a.createElement("div",{className:"nav",style:{justifyContent:t?"space-between":"start"}},l.a.createElement("div",{className:"left-nav"},l.a.createElement(s.b,{className:"logo",to:"/"},l.a.createElement("h1",null,"Farmacro"))),l.a.createElement("div",{className:"right-nav",style:{display:t?"flex":"none"}},t||null)))},E=a(13),b=(a(79),a(25)),v=a(26),y=a.n(v),w=a(49).a.initializeApp({apiKey:"AIzaSyBlkL_X4nWqW5Y1TIsDsQZnFOvgyfkKdZM",authDomain:"farmacro-af287.firebaseapp.com",databaseURL:"https://farmacro-af287.firebaseio.com",projectId:"farmacro-af287",storageBucket:"farmacro-af287.appspot.com",messagingSenderId:"964427814223",appId:"1:964427814223:web:8660f5af152ff5299da13a",measurementId:"G-78M5EZYR9J"}),x=function(e){var t=e.response,a=e.setIsLogin,n=e.setPath;t.accessToken&&(localStorage.setItem("token",t.accessToken),a(!0),n("/dashboard"))},k=function(e){var t=e.response,a=e.setIsLogin,n=e.setPath;t.accessToken&&(localStorage.setItem("token",t.accessToken),a(!0),n("/dashboard"))},j=function(e){var t=e.email,a=e.password,n=e.setIsLogin,l=e.setPath;w.auth().signInWithEmailAndPassword(t,a).then((function(e){console.log(e),e.user.refreshToken&&(localStorage.setItem("token",e.user.refreshToken),n(!0),l("/dashboard"))})).catch((function(e){return console.error(e)}))};var I=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=a[0],i=a[1],s=Object(n.useState)(""),c=Object(o.a)(s,2),m=c[0],u=c[1];return l.a.createElement("div",{className:"column"},l.a.createElement("div",{className:"left-coloumn"},l.a.createElement("h1",null,"Logo"),l.a.createElement("img",{src:"https://raw.githubusercontent.com/ipondnakab/Sutima-Kittipat-webapp/master/src/assets/images/img-login-page.svg",width:"400px",alt:"logo"}),l.a.createElement("p",null,"That is your market")),l.a.createElement("div",{className:"right-column"},l.a.createElement("div",{className:"login"},l.a.createElement("h2",null,"Login with your e-mail"),l.a.createElement("br",null),l.a.createElement("form",{action:"",className:"form"},l.a.createElement("label",{for:"email"},l.a.createElement("b",null,"Email address")),l.a.createElement("input",{type:"text",placeholder:"Email address",name:"email",onChange:function(e){return i(e.target.value)},required:!0}),l.a.createElement("label",{for:"password"},l.a.createElement("b",null,"Password")),l.a.createElement("input",{type:"password",placeholder:"Password",name:"password",onChange:function(e){return u(e.target.value)},required:!0}),l.a.createElement("button",{className:"button-submit",type:"submit",onClick:function(t){t.preventDefault(),j(Object(E.a)({email:r,password:m},e)),e.setPath("/dashboard")}},"Login"),l.a.createElement("br",null),l.a.createElement("div",{className:"radio"},l.a.createElement("label",null,l.a.createElement("input",{type:"radio",id:"checked",name:"remember"})," Remember me"),l.a.createElement("p",null," ","Forgot ",l.a.createElement("a",{href:"#"},"password"))))),l.a.createElement("h2",null,"Or"),l.a.createElement("h2",null,"Use social sign in"),l.a.createElement("div",{className:"logo"},l.a.createElement(b.GoogleLogin,{clientId:"964427814223-2p8jsupo987e8qfadkthalnh7m5q6up4.apps.googleusercontent.com",onSuccess:function(t){return k(Object(E.a)({response:t},e))},onFailure:function(e){console.log(e)},cookiePolicy:"single_host_origin",style:{height:"100%"}}),l.a.createElement(y.a,{appId:"364075804676399",fields:"name,email,picture",callback:function(t){return x(Object(E.a)({response:t},e))},onFailure:function(e){console.log(e)}})),l.a.createElement("span",{className:"rst"},"If you don't have account ",l.a.createElement("a",{href:"#"},"Register"))))};var O=function(e){var t=Object(n.useState)(""),a=Object(o.a)(t,2),r=(a[0],a[1]),i=Object(n.useState)(""),s=Object(o.a)(i,2),c=s[0],m=s[1],u=Object(n.useState)(""),p=Object(o.a)(u,2),f=p[0],d=p[1];return l.a.createElement("div",{class:"column"},l.a.createElement("div",{class:"left-coloumn"},l.a.createElement("h1",null,"Logo"),l.a.createElement("img",{src:"https://raw.githubusercontent.com/ipondnakab/Sutima-Kittipat-webapp/master/src/assets/images/img-register-page.svg",width:"400px",alt:"logo"}),l.a.createElement("p",null,"That is your market")),l.a.createElement("div",{class:"right-column"},l.a.createElement("div",{class:"login"},l.a.createElement("h2",null,"Register with your e-mail"),l.a.createElement("br",null),l.a.createElement("form",{action:"",class:"form"},l.a.createElement("label",{for:"username"},l.a.createElement("b",null,"Username")),l.a.createElement("input",{type:"text",placeholder:"Username",name:"username",onChange:function(e){return r(e.target.value)},required:!0}),l.a.createElement("label",{for:"email"},l.a.createElement("b",null,"Email address")),l.a.createElement("input",{type:"text",placeholder:"Email address",name:"email",onChange:function(e){return m(e.target.value)},required:!0}),l.a.createElement("label",{for:"psw"},l.a.createElement("b",null,"Password")),l.a.createElement("input",{type:"password",placeholder:"Password",name:"psw",onChange:function(e){return d(e.target.value)},required:!0}),l.a.createElement("label",null,l.a.createElement("input",{type:"radio",id:"check",name:"remember"})," Remember me"),l.a.createElement("br",null),l.a.createElement("button",{class:"button-submit",type:"submit",onClick:function(t){t.preventDefault(),function(e){var t=e.email,a=e.password,n=e.setIsLogin;w.auth().createUserWithEmailAndPassword(t,a).then((function(e){return j({email:t,password:a,setIsLogin:n})})).catch((function(e){return console.error(e)}))}(Object(E.a)(Object(E.a)({},e),{},{email:c,password:f}))}},"Submit"),l.a.createElement("br",null))),l.a.createElement("h2",null,"Or"),l.a.createElement("h2",null,"Use social sign in"),l.a.createElement("div",{class:"logo"},l.a.createElement(b.GoogleLogin,{clientId:"964427814223-2p8jsupo987e8qfadkthalnh7m5q6up4.apps.googleusercontent.com",onSuccess:function(t){return k(Object(E.a)({response:t},e))},onFailure:function(e){console.log(e)},cookiePolicy:"single_host_origin",style:{height:"100%"}}),l.a.createElement(y.a,{appId:"364075804676399",fields:"name,email,picture",callback:function(t){return x(Object(E.a)({response:t},e))},onFailure:function(e){console.log(e)}})),l.a.createElement("span",{class:"rst"},"If you have account",l.a.createElement("a",{href:"#"},"Login"))))},S=(a(84),a.p+"static/media/man.70450708.svg"),P=a.p+"static/media/bg2.16afb43f.jpg";var D=function(e){var t=e.post,a=Object(n.useState)(!1),r=Object(o.a)(a,2),i=r[0],s=r[1];return l.a.createElement("article",{className:"post-component"},l.a.createElement("header",null,l.a.createElement("img",{src:t.imageProfile?t.imageProfile:S,alt:"profile"}),l.a.createElement("div",null,l.a.createElement("h2",null,t.username?t.username:t.owner),l.a.createElement("p",null,t.follower?t.follower:"0"," Follower"))),l.a.createElement("main",null,l.a.createElement("img",{src:t.imageUrl?t.imageUrl:P,alt:"post image"}),l.a.createElement("p",null,t.body?t.body:"Empty Discription")),l.a.createElement("footer",null,l.a.createElement("div",{className:"post-footer-left"},l.a.createElement("p",{onClick:function(){s(!i)},style:i?{color:"#f00"}:{color:"#777"}},"like"," "),l.a.createElement("p",null,"comment")),l.a.createElement("div",{className:"post-footer-right"},t.isSale?l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("p",{style:{color:"#aaa"}},"Price:\xa0"),l.a.createElement("p",null," ",t.price,"\xa0"),l.a.createElement("p",{style:{color:"#aaa"}},"Bath\xa0\xa0")," "):"")))};a(85);function L(e){var t=e.userData;return l.a.createElement("div",{className:"header-profile"},l.a.createElement("div",{className:"cover-img-div",style:{backgroundImage:"url(".concat(t.imageCover,")")}}),l.a.createElement("div",{className:"infomation-user"},l.a.createElement("img",{alt:"profile image",src:t.imageProfile?t.imageProfile:"https://www.flaticon.com/svg/static/icons/svg/3135/3135715.svg"}),l.a.createElement("div",null,l.a.createElement("h2",null,t.username),l.a.createElement("p",null,t.numberOfFollower?t.numberOfFollower:0," Follower"))))}var C=a(51),N=a(47),T=a(48),_=a(22),F=a(52),A=a(50),U=(a(86),a.p+"static/media/man.70450708.svg"),R=(a.p,function(e){Object(F.a)(a,e);var t=Object(A.a)(a);function a(e){var n;return Object(N.a)(this,a),(n=t.call(this,e)).fileObj=[],n.fileArray=[],n.state={file:[],profile:e.userData,discription:"",price:null,isSale:!1},n.uploadMultipleFiles=n.uploadMultipleFiles.bind(Object(_.a)(n)),n.uploadFiles=n.uploadFiles.bind(Object(_.a)(n)),n}return Object(T.a)(a,[{key:"uploadMultipleFiles",value:function(e){console.log(e),this.fileObj.push(e.target.files);for(var t=0;t<this.fileObj[0].length;t++)this.fileArray.push(URL.createObjectURL(this.fileObj[0][t]));this.setState({file:this.fileArray})}},{key:"uploadFiles",value:function(e){if(e.preventDefault(),this.state.file[0]){var t=Object(E.a)(Object(E.a)({},this.state.profile),{},{imageUrl:this.state.file[0]?this.state.file[0]:void 0,body:this.state.discription,date:(new Date).toISOString(),isSale:this.state.isSale,price:this.state.price});this.props.setTem([t].concat(Object(C.a)(this.props.tem))),h.a.post("https://asia-east2-farmacro-af287.cloudfunctions.net/api/posts/",t).then((function(e){console.log(e),console.log(e.data)})).catch((function(e){return console.log(e)})),this.fileArray=[],this.setState({file:[],discription:""})}}},{key:"onChangeDiscription",value:function(e){this.setState({discription:e.target.value})}},{key:"onChangePrice",value:function(e){this.setState({price:e.target.value})}},{key:"onChangeIsSale",value:function(e){this.setState({isSale:!this.state.isSale})}},{key:"render",value:function(){return l.a.createElement("article",{className:"create-post-component"},l.a.createElement("header",null,l.a.createElement("img",{src:this.state.profile.imageProfile?this.state.profile.imageProfile:U,alt:"profile"}),l.a.createElement("div",null,l.a.createElement("h2",null,this.state.profile.username?this.state.profile.username:"nameUser"),l.a.createElement("p",null,this.state.profile.follower?this.state.profile.follower:0," ","Follower"))),l.a.createElement("main",{style:{width:"100%"}},l.a.createElement("form",{style:{display:"flex",flexDirection:"column",justifyContent:"center"}},l.a.createElement("input",{type:"text",id:"discription-input",style:{width:"90%",justifySelf:"center",alignSelf:"center"},placeholder:"Discription",onChange:this.onChangeDiscription.bind(this),value:this.state.discription}),l.a.createElement("div",{className:"image-upload-group",style:{width:"100%",display:"flex"}},l.a.createElement("div",{className:"form-group multi-preview",style:{display:"flex"}},this.fileArray.map((function(e,t){return l.a.createElement("div",{key:t,className:"form-group multi-preview",style:{width:"100px",height:"100px",margin:"12px",borderRadius:"4px",overflow:"hidden"}},l.a.createElement("img",{src:e,alt:"...",style:{height:"100%"}}))}))),l.a.createElement("div",{className:"form-group",style:{width:"100px",height:"100px",boxShadow:"0 2.8px 2.2px rgba(0, 0, 0, 0.034), 0 6.7px 5.3px rgba(0, 0, 0, 0.048),\n                0 12.5px 10px rgba(0, 0, 0, 0.06), 0 22.3px 17.9px rgba(0, 0, 0, 0.072), 0 41.8px 33.4px rgba(0, 0, 0, 0.086),\n                0 100px 80px rgba(0, 0, 0, 0.12)",margin:"12px",borderRadius:"4px"}},l.a.createElement("span",{style:{width:"100px",height:"100px",float:"left",position:"absolute",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},"+"),l.a.createElement("input",{type:"file",className:"form-control",onChange:this.uploadMultipleFiles.bind(this),multiple:!0,style:{opacity:"0",width:"100%",height:"100%",float:"left"}}))))),l.a.createElement("footer",{style:{display:"flex",justifyContent:"flex-end"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},this.state.isSale?l.a.createElement("input",{type:"text",id:"price-input",style:{width:"90%",justifySelf:"center",alignSelf:"center"},placeholder:"Price",onChange:this.onChangePrice.bind(this),value:this.state.price}):l.a.createElement("p",null,"Sale\xa0\xa0"),l.a.createElement("label",{class:"switch"},l.a.createElement("input",{type:"checkbox",onChange:this.onChangeIsSale.bind(this)}),l.a.createElement("span",{class:"slider round"}))),l.a.createElement("button",{style:{backgroundColor:0===this.state.file.length?"#777":"skyblue",color:"white"},onClick:this.uploadFiles},"Post")))}}]),a}(n.Component));function q(e){var t=e.tem,a=e.setTem,n=e.userData;return l.a.createElement("div",{style:{width:"700px",margin:"auto",marginTop:"100px"}},l.a.createElement("div",{style:{paddingBottom:70,display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement(R,{setTem:a,tem:t,userData:n}),t.map((function(e,t){return l.a.createElement("div",{key:t,style:{marginTop:32,display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement(D,{post:e}))}))))}function B(e){var t=e.tem,a=e.setTem,n=e.userData;return l.a.createElement("div",{style:{width:"700px",margin:"auto"}},l.a.createElement(L,{userData:n}),l.a.createElement("div",{style:{paddingBottom:70,display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement(R,{setTem:a,tem:t,userData:n}),t.map((function(e,t){return e.username==n.username?l.a.createElement("div",{key:t,style:{marginTop:32,display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement(D,{post:e})):null}))))}var M=function(e){var t=e.tem;return e.setTem,l.a.createElement("div",{style:{paddingBottom:70,display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement("div",{style:{marginTop:32,display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}}),t.map((function(e,t){return e.isSale?l.a.createElement("div",{key:t,style:{marginTop:32,display:"flex",flexDirection:"column",alignItems:"center"}},l.a.createElement(D,{post:e})):null})))};a(87);function K(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("/"),m=Object(o.a)(i,2),u=(m[0],m[1]);Object(n.useEffect)((function(){w(),x()}),[]);var p=Object(n.useState)([{imageProfile:"https://www.flaticon.com/svg/static/icons/svg/3135/3135715.svg",username:"Kittipat",follower:"12.1K",imageUrl:"https://www.treehugger.com/thmb/bM_zeJcC8UpFkNa39UK69dfoT2w=/735x0/__opt__aboutcom__coeus__resources__content_migration__mnn__images__2017__01__cow-in-pasture-crop2-3b8cdbd62aee45f6ab8d49228fa85272.jpg",body:"Ipsum is simply dummy text of the printing and typesetting industry. Industry\u2019s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."}]),f=Object(o.a)(p,2),d=f[0],E=f[1],b=Object(n.useState)({imageCover:"https://wallpaperaccess.com/full/175640.jpg",username:"testuser",imageProfile:"https://www.flaticon.com/svg/static/icons/svg/3135/3135715.svg"}),v=Object(o.a)(b,2),y=v[0],w=(v[1],function(){h.a.get("https://asia-east2-farmacro-af287.cloudfunctions.net/api/posts/").then((function(e){return E(e.data)})).catch((function(e){return console.log(e)}))}),x=function(){var e={headers:{Authorization:"Bearer "+localStorage.getItem("token")}};h.a.post("https://asia-east2-farmacro-af287.cloudfunctions.net/api/posts/",e).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}))},k=!!localStorage.getItem("token");!a&&k&&r(!0);var j=window.location.pathname;return l.a.createElement(s.a,null,l.a.createElement("div",null,l.a.createElement(g,{menu:a?W({currentPath:j,setPath:u,setIsLogin:r}):z(a)}),l.a.createElement(c.c,null,l.a.createElement(c.a,{path:"/register"},k?l.a.createElement(q,{tem:d,setTem:E,userData:y}):l.a.createElement(O,{setIsLogin:r,setPath:u})),l.a.createElement(c.a,{path:"/dashboard"},k?l.a.createElement(q,{tem:d,setTem:E,userData:y}):l.a.createElement(O,{setIsLogin:r,setPath:u})),l.a.createElement(c.a,{path:"/profile"},k?l.a.createElement(B,{tem:d,setTem:E,userData:y}):l.a.createElement(O,{setIsLogin:r,setPath:u})),l.a.createElement(c.a,{path:"/market"},k?l.a.createElement(M,{tem:d,setTem:E,userData:y}):l.a.createElement(O,{setIsLogin:r,setPath:u})),l.a.createElement(c.a,{path:"/login"},k?l.a.createElement(q,{tem:d,setTem:E,userData:y}):l.a.createElement(I,{setIsLogin:r,setPath:u})),l.a.createElement(c.a,{path:"/"},k?l.a.createElement(q,{tem:d,setTem:E,userData:y}):l.a.createElement(I,{setIsLogin:r,setPath:u})))))}var W=function(e){var t=e.currentPath,a=e.setPath,n=e.setIsLogin,r=[{name:"dashboard",icon:l.a.createElement(m.b,{color:"white"}),iconActive:l.a.createElement(m.a,{color:"white"}),path:"/dashboard"},{name:"market",icon:l.a.createElement(u.b,{color:"white"}),iconActive:l.a.createElement(u.a,{color:"white"}),path:"/market"},{name:"profile",icon:l.a.createElement(f.a,{color:"white"}),iconActive:l.a.createElement(f.b,{color:"white"}),path:"/profile"},{name:"logout",icon:l.a.createElement(p.a,{color:"white"}),iconActive:l.a.createElement(p.a,{color:"white"}),path:"/login"}];return l.a.createElement("div",null,r.map((function(e,r){return l.a.createElement(s.b,{key:r,style:{cursor:"pointer",fontSize:"1.5rem",marginLeft:"0.8rem",color:"white"},to:e.path,onClick:function(){a(e.path),"logout"===e.name&&(!function(e){var t=e.setIsLogin;localStorage.removeItem("token"),console.log("Logout success"),t(!1)}({setIsLogin:n}),a("/login"))}},t.substring(0,e.path.length)===e.path?e.iconActive:e.icon)})))},z=function(e){return l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},l.a.createElement(s.b,{to:e?"/":"/login",className:"button-style-1"},"Login"),l.a.createElement(s.b,{to:e?"/":"/register",className:"button-style-1",style:{marginLeft:20}},"Register"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[88,1,2]]]);
//# sourceMappingURL=main.5bc44428.chunk.js.map